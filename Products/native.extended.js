!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){(function(e){const n=Object.freeze({default:0,warning:1,error:2}),r=Object.freeze({url:"url",json:"json",object:"object",javascript:"javascript"});let o=r.url,i={},u={},a=1e7,c="native",s=null,f=!1;const l=new function(){let e=null;function t(t,n,r){if("string"==typeof t){if("string"==typeof n){let o=new Date;"number"==typeof r?o.setTime(o.getTime()+1e3*r):o.setTime(o.getTime()+2592e6);let i=T(t),u=T(n);return document.cookie=i+"="+u+"; expires="+o.toUTCString(),e&&(e[t]=n),n}if(null===n){new Date;return date.setTime(date.getTime()-1),document.cookie=T(t)+"; expires="+date.toUTCString(),e&&(e[t]=n),n}return function(){if(e)return;e={},setTimeout(function(){e=null});let t=document.cookie;if(!t)return;let n=t.split("; ");for(;n.length>0;){let t=n.pop().split("=");if(!Array.isArray(t)||0===t.length)continue;let r=decodeURIComponent(t[0]);t.length>1?e[r]=decodeURIComponent(t[1]):e[r]=null}}(),e.hasOwnProperty(t)?e[t]:null}}function n(){return e=null,this}window.addEventListener("pageshow",function(){e=null}),Object.defineProperties(this,{value:{get:function(){return t}},synchronize:{get:function(){return n}}})};function d(t){switch(o){case r.url:return function(e){let t=[];for(let e=1;e<arguments.length;e+=1){let n=arguments[e];"function"==typeof n?t.push(g(n)):t.push(n)}let n=c+"://"+e+"?parameters="+T(t);if("function"==typeof s)return s(n);let r=document.createElement("iframe");r.style.display="none",r.setAttribute("src",n),document.body.appendChild(r),setTimeout(function(){document.body.removeChild(r)},2e3)}.apply(this,arguments);case r.json:return function(e){let t=[e];for(let e=1;e<arguments.length;e+=1){let n=arguments[e];switch(typeof n){case"number":case"string":case"boolean":t.push(n);break;case"function":t.push(g(n));break;default:t.push(JSON.stringify(n))}}L.apply(this,t)}.apply(this,arguments);case r.object:return L.apply(this,arguments);case r.javascript:return function(t){let n=[];for(let e=1;e<arguments.length;e++)"function"==typeof arguments[e]?n.push(g(arguments[e])):n.push(arguments[e]);setTimeout(function(){s.apply(e,[t,n])})}.apply(this,arguments);default:return S("native.js 暂不支持 "+o+" 交互模式，请使用 NativeMode 所枚举的交互模式！",n.error)}}function g(e,t){switch(typeof e){case"function":let r="NT"+a++;return i[r]=e,r;case"string":if(!i.hasOwnProperty(e))return S("没有找到标识符 "+e+" 所注册的回调函数！\n提示：如果回调函数须多次执行，请指定第二个参数为 false，以保证在回调函数执行后不被删除。",n.error);let o=i[e];return(void 0===t||t)&&delete i[e],o;default:return S("Parameters error: Only function or string is allowed for Native.callback()'s first argument.",Native.LogStyle.error)}}function h(e,t){"function"==typeof t&&"string"==typeof e&&0!=e.length&&(u.hasOwnProperty(e)?u.push(t):u[e]=[t])}function v(e,t){if("string"!=typeof e||0==e.length)return;if(!u.hasOwnProperty(e))return;if(!t)return void delete u[e];let n=u[e];for(var r=n.length-1;r>=0;r--)n[r]==t&&n.splice(r,1)}function p(e){if("string"!=typeof e||0==e.length)return;if(!u.hasOwnProperty(e))return;let t=[];for(var n=1;n<arguments.length;n++)t.push(arguments[n]);let r=u[e];for(n=0;n<r.length;n++)r[n].apply(this,t)}Object.defineProperties(e,{NativeLogStyle:{get:function(){return n}},NativeMode:{get:function(){return r}},NativeParseURLQuery:{get:function(){return k}},NativeParseURLQueryComponent:{get:function(){return T}},NativeLog:{get:function(){return S}},NativeMethod:{get:function(){return A}},NativeAction:{get:function(){return U}},NativeCookieKey:{get:function(){return x}},native:{get:function(){return t}}}),Object.defineProperties(t,{mode:{get:function(){return o}},scheme:{get:function(){return c}},isReady:{get:function(){return f}},delegate:{get:function(){return s}},performMethod:{get:function(){return d}},callback:{get:function(){return g}},addActionTarget:{get:function(){return h}},removeActionTarget:{get:function(){return v}},sendAction:{get:function(){return p}},ready:{get:function(){return C}},register:{get:function(){return w}},extend:{get:function(){return M}},cookie:{get:function(){return l}}}),A("ready","ready");let m={};const y=[];let N=null;const b=[];function w(t,n){if(s=t,o=n,f)return this;N&&g(N,!0);let r=this;function i(){N=d.call(r,A.ready,function(t){for(f=!0,N=null,t&&(m=t);y.length>0;){let e=y.shift();Object.defineProperties(r,e.apply(r,[m]))}for(;b.length>0;)b.shift().apply(e)})}if("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)setTimeout(function(){i()});else{function u(){document.removeEventListener("DOMContentLoaded",u),window.removeEventListener("load",u),i()}document.addEventListener("DOMContentLoaded",u),window.addEventListener("load",u)}return this}function C(e){return f?(setTimeout(e),this):(b.push(e),this)}function M(e){return"function"!=typeof e?this:(f?Object.defineProperties(this,e.apply(this,[m])):y.push(e),this)}function L(t){let n=[];for(let e=1;e<arguments.length;e+=1)n.push(arguments[e]);setTimeout(function(){let r=t.split("/"),o=s;for(let e=0;e<r.length;e++)o=o[r[e]];o.apply(e,n)})}function S(e,t){return"number"!=typeof t||t===n.default?console.log("%c[Native]%c %s","color: #0b78d7; font-weight: bold;","color: #333333",e):t===n.warning?console.log("%c[Native]%c %s","color: #0b78d7; font-weight: bold;","color: #f98300",e):console.log("%c[Native]%c %s","color: #0b78d7; font-weight: bold;","color: #c2352d",e)}function T(e){if(!e)return"";switch(typeof e){case"string":return encodeURIComponent(e);case"undefined":return"";default:return encodeURIComponent(JSON.stringify(e))}}function k(e){if(!e)return"";if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++)t.push(T(e[n]));return t.join("&")}switch(typeof e){case"string":return encodeURIComponent(e);case"object":let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length>0?t+="&"+encodeURIComponent(n):t=encodeURIComponent(n),e[n]&&(t+="="+T(e[n])));return t;case"undefined":return"";default:return encodeURIComponent(JSON.stringify(e))}}function O(e,t,n){return void 0===e?S("Define property error: Can not define properties for an undefined value.",2):"string"!=typeof t||0===t.length?S("Define property error: The name for "+e.constructor.name+"'s property must be a nonempty string.",2):e.hasOwnProperty(t)?S("Define property warning: The property "+t+" to be defined for "+e.constructor.name+" is already exist.",1):(n.enumerable=!0,Object.defineProperty(e,t,n),e)}function j(e,t){for(const n in e){const r=e[n];switch(typeof r){case"string":if(t(n,r))return!0;break;case"object":if(j(r,t))return!0}}return!1}function A(e,t){return"string"!=typeof e||0===e.length?S("NativeMethod 注册失败，方法名称必须为长度大于 0 的字符串！",NativeLogStyle.error):A.hasOwnProperty(e)?S("NativeMethod 注册失败，已存在名称为“"+e+"”的方法！",NativeLogStyle.error):j(A,function(e,n){return n===t})?S("NativeMethod 注册失败，已存在值为“"+t+"”的方法！",NativeLogStyle.error):(O(A,e,{get:function(){return t}}),t)}function U(e,t){return"string"!=typeof e||0===e.length?S("NativeAction 注册失败，事件名称必须为长度大于 0 的字符串！",NativeLogStyle.error):U.hasOwnProperty(e)?S("NativeAction 注册失败，已存在名称为“"+e+"”的事件！",NativeLogStyle.error):j(U,function(e,n){return n===t})?S("NativeAction 注册失败，已存在值为“"+t+"”的事件！",NativeLogStyle.error):(O(U,e,{get:function(){return t}}),t)}function x(e,t){return"string"!=typeof e||0===e.length?S("NativeCookieKey 注册失败，名称必须为长度大于 0 的字符串！",NativeLogStyle.error):"string"!=typeof t||0===t.length?S("NativeCookieKey 注册失败，值必须为大于 0 的字符串！",NativeLogStyle.error):x.hasOwnProperty(e)?S("NativeCookieKey 注册失败，已存在名称为“`"+e+"`”的 Cookie 键！",NativeLogStyle.error):j(x,function(e,n){return n===t})?S("NativeCookieKey 注册失败，已存在值为“"+t+"”的 Cookie 键！",NativeLogStyle.error):(O(x,e,{get:function(){return t}}),t)}}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(0),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11)},function(e,t,n){e.exports=n(0),NativeMethod("alert","alert"),native.extend(function(){function e(e,t){return this.performMethod(NativeMethod.alert,e,t)}return{alert:{get:function(){return e}}}})},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("dataService",Object.freeze({cachedResourceForURL:"dataService/cachedResourceForURL",numberOfRowsInList:"dataService/numberOfRowsInList",dataForRowAtIndex:"dataService/dataForRowAtIndex"}));const r=Object.freeze({image:"image"});Object.defineProperty(t,"NativeCachedResourceType",{get:function(){return r}}),native.extend(function(){let e=new function(e){function n(e,n,r){return"string"!=typeof e||"string"!=typeof n?(NativeLog("Method `numberOfRowsInList` first/second parameter must be a string value.",NativeLogStyle.error),null):t.native.performMethod(NativeMethod.dataService.numberOfRowsInList,e,n,r)}function o(e,n,r,o){return"string"!=typeof e||"string"!=typeof n||"number"!=typeof r?(NativeLog("Method `dataForRowAtIndex` first/second/third parameter must be a string/string/number value.",NativeLogStyle.error),null):t.native.performMethod(NativeMethod.dataService.dataForRowAtIndex,e,n,r,o)}function i(e,n,o){if("string"!=typeof e)return NativeLog("Method `cachedResourceForURL` url parameter must be a string value.",NativeLogStyle.error),null;switch(typeof n){case"function":o=n,n=r.image;break;case"string":break;default:n=r.image}return"function"!=typeof o?(NativeLog("Method `cachedResourceForURL` must have a callback handler.",NativeLogStyle.error),null):t.native.performMethod(NativeMethod.dataService.cachedResourceForURL,e,n,o)}Object.defineProperties(this,{numberOfRowsInList:{get:function(){return n}},dataForRowAtIndex:{get:function(){return o}},cachedResourceForURL:{get:function(){return i}}})}(this);return{dataService:{get:function(){return e}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("eventService",Object.freeze({track:"eventService/track",documentElementWasClicked:"eventService/documentElementWasClicked",documentElementDidSelect:"eventService/documentElementDidSelect"})),t.native.extend(function(){let e=new function(){function e(e,n,r,o){return"string"!=typeof e||"string"!=typeof n||void 0!==r?(NativeLog("Method `documentElementDidSelect` first/second/third parameter must be a string/string/number value.",NativeLogStyle.error),null):t.native.performMethod(NativeMethod.eventService.documentElementDidSelect,e,n,r,o)}function n(e,n,r,o){return"string"!=typeof e||"string"!=typeof n?(NativeLog("Method `elementWasClicked` first/second parameter must be a string value.",NativeLogStyle.error),null):("function"==typeof r&&(o=r,r=null),t.native.performMethod(NativeMethod.eventService.documentElementWasClicked,e,n,r,o))}function r(e,n){return"string"!=typeof e?(NativeLog("Method `track` first parameter must be a string value.",NativeLogStyle.error),null):t.native.performMethod(NativeMethod.eventService.track,e,n)}Object.defineProperties(this,{documentElementDidSelect:{get:function(){return e}},documentElementWasClicked:{get:function(){return n}},track:{get:function(){return r}}})};return{eventService:{get:function(){return e}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("navigation",Object.freeze({push:"navigation/push",pop:"navigation/pop",popTo:"navigation/popTo",bar:Object.freeze({setHidden:"navigation/bar/setHidden",setTitle:"navigation/bar/setTitle",setTitleColor:"navigation/bar/setTitleColor",setBackgroundColor:"navigation/bar/setBackgroundColor"})})),t.native.extend(function(e){function n(e){let n=e.title,r=e.titleColor,o=e.backgroundColor,i=e.isHidden;function u(e,r){return"string"!=typeof e?(NativeLog("The navigation.bar.title must be a string value.",NativeLogStyle.error),this):(n=e,r&&t.native.performMethod(NativeMethod.navigation.bar.setTitle,e),this)}function a(e,n){return"string"!=typeof e?(NativeLog("The navigation.bar.titleColor must be a string value.",NativeLogStyle.error),this):(r=e,n&&t.native.performMethod(NativeMethod.navigation.bar.setTitleColor,e),this)}function c(e,n,r){return"boolean"!=typeof e?(NativeLog("The navigation.bar.isHidden must be a boolean value.",NativeLogStyle.error),this):(i=e,r&&t.native.performMethod(NativeMethod.navigation.bar.setHidden,e,n),this)}function s(e){return c(!0,e,!0),this}function f(e){return c(!1,e,!0),this}function l(e,n){return"string"!=typeof e?(NativeLog("The navigation.bar.backgroundColor must be a string value.",NativeLogStyle.error),this):(o=e,n?(t.native.performMethod(NativeMethod.navigation.bar.setBackgroundColor,e),this):this)}Object.defineProperties(this,{title:{get:function(){return n},set:function(e){u(e,!0)}},titleColor:{get:function(){return r},set:function(e){a(e,!0)}},backgroundColor:{get:function(){return o},set:function(e){l(e,!0)}},isHidden:{get:function(){return i},set:function(e){c(e,!1,!0)}},setTitle:{get:function(){return u}},setTitleColor:{get:function(){return a}},setBackgroundColor:{get:function(){return l}},setHidden:{get:function(){return c}},hide:{get:function(){return s}},show:{get:function(){return f}}})}let r=e.navigation;r||(r={bar:{title:"native.js",titleColor:"#000",backgroundColor:"#fff",isHidden:!1}});let o=new function(e){let r=function(e,n){if("string"!=typeof e)return NativeLog("Method `push` can not be called without a url parameter.",NativeLogStyle.error),null;if(!/^([a-z]+):\/\//i.test(e))if(/^(\/)/i.test(e))e=window.location.protocol+"//"+window.location.host+e;else{let t=window.location.href.split("/");t.pop(),e=t.join("/")+"/"+e}return"boolean"!=typeof n&&(n=!0),t.native.performMethod(NativeMethod.navigation.push,e,n)},o=function(e){return"boolean"!=typeof e&&(e=!0),t.native.performMethod(NativeMethod.navigation.pop,e)},i=function(e,n){if("number"==typeof e)return"boolean"!=typeof n&&(n=!0),t.native.performMethod(NativeMethod.navigation.popTo,e,n);NativeLog("Method `popTo` can not be called without a index parameter.",NativeLogStyle.error)},u=e.bar;u||(u={title:"native.js",titleColor:"#000",backgroundColor:"#fff",isHidden:!1});let a=new n(u);Object.defineProperties(this,{push:{get:function(){return r}},pop:{get:function(){return o}},popTo:{get:function(){return i}},bar:{get:function(){return a}}})}(r);return{navigation:{get:function(){return o}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("networking",Object.freeze({http:"networking/http"}));const r=Object.freeze({WiFi:"WiFi"});Object.defineProperty(t,"NativeNetworkStatus",{get:function(){return r}}),t.native.extend(function(e){let n=e.networking;n||(n={status:"Unknown"});let o=new function(e){let n=e.status,o=[];function i(e,n){return e&&"object"==typeof e?t.native.performMethod(NativeMethod.networking.http,e,n):(NativeLog("Method `http` first parameter must be an request object.",NativeLogStyle.error),null)}function u(e){if("function"==typeof e)return o.push(e),this;for(let e=0;e<o.length;e++)o[e].call(window)}function a(e){n=e,u()}Object.defineProperties(this,{isViaWiFi:{get:function(){return n===r.WiFi}},status:{get:function(){return n}},isReachable:{get:function(){return!!n}},statusChange:{get:function(){return u}},http:{get:function(){return i}},setStatus:{get:function(){return a}}})}(n);return{networking:{get:function(){return o}},http:{get:function(){return o.http}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("open","open"),t.native.extend(function(){function e(e){return"string"!=typeof e?(NativeLog("Method `open`'s page parameter must be a string value.",NativeLogStyle.error),null):this.performMethod(NativeMethod.open,e)}return{open:{get:function(){return e}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("present","present"),NativeMethod("dismiss","dismiss"),t.native.extend(function(){function e(e,t,n){if("string"!=typeof e)return NativeLog("Method `present` first parameter must be a string value.",NativeLogStyle.error),null;let r=t,o=n;return"function"==typeof t&&(r=!0,o=t),"boolean"!=typeof r&&(r=!0),this.performMethod(NativeMethod.present,e,r,o)}function t(e,t){let n=e,r=t;return"function"==typeof e&&(n=!0,r=e),"boolean"!=typeof n&&(n=!0),this.performMethod(NativeMethod.dismiss,n,r)}return{present:{get:function(){return e}},dismiss:{get:function(){return t}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("setCurrentTheme","setCurrentTheme"),NativeCookieKey("currentTheme","com.mlibai.native.cookie.currentTheme"),NativeAction("setCurrentTheme","setCurrentTheme"),NativeAction("currentThemeChange","currentThemeChange"),t.native.extend(function(e){let n=e.currentTheme;function r(e,t,r){return void 0===r||r?(n=e,this.cookie.value(NativeCookieKey.currentTheme,e),this.performMethod(NativeMethod.setCurrentTheme,newValue,t)):this.sendAction(NativeAction.setCurrentTheme,e,t)}function o(e,t){return"function"==typeof e?this.addActionTarget(NativeAction.currentThemeChange,e):this.sendAction(NativeAction.currentThemeChange,n,!!t)}return this.addActionTarget(NativeAction.setCurrentTheme,function(e,t){n=e,this.cookie.value(NativeCookieKey.currentTheme,e)}),function(){function e(){let e=t.native.cookie.value(NativeCookieKey.currentTheme);e&&e!==t.native.currentTheme&&(n=e,t.native.sendAction(NativeAction.currentThemeChange,e,!1))}window.addEventListener("pagehide",function t(){window.removeEventListener("pagehide",t),window.addEventListener("pageshow",e)})}(),{currentTheme:{get:function(){return n},set:function(e){r(e,!1,!0)}},currentThemeChange:{get:function(){return o}},setCurrentTheme:{get:function(){return r}}}})}).call(this,n(1))},function(e,t,n){(function(t){e.exports=n(0),NativeMethod("login","login"),NativeCookieKey("currentUser","com.mlibai.native.cookie.currentUser"),NativeAction("setCurrentUser","setCurrentUser"),NativeAction("currentUserChange","currentUserChange"),t.native.extend(function(e){let n=e.currentUser;n||(n={id:"0",name:"Visitor",info:{},version:"0"});let r=new u(n.id,n.name,n.info,n.version);function o(e){return"function"==typeof e?this.addActionTarget(NativeAction.currentUserChange,e):this.sendAction(NativeAction.currentUserChange,r)}function i(e){return this.sendAction(NativeAction.setCurrentUser,e)}function u(e,t,n,r){Object.defineProperties(this,{id:{get:function(){return e}},name:{get:function(){return t}},info:{get:function(){return n}},version:{get:function(){return r}}})}function a(e){return this.performMethod(NativeMethod.login,function(t){r=new u(t.id,t.name,t.info,t.version),"function"==typeof e&&e(r)})}return t.native.cookie.value(NativeCookieKey.currentUser,JSON.stringify(r)),this.addActionTarget(NativeAction.setCurrentUser,function(e){r=new u(e.id,e.name,e.info,e.version),this.cookie.value(NativeCookieKey.currentUser,JSON.stringify(r)),this.sendAction(NativeAction.currentUserChange,r)}),function(){function e(){let e=JSON.parse(t.native.cookie.value(NativeCookieKey.currentUser));e.id===t.native.currentUser.id&&e.version===t.native.currentUser.version||(r=new u(e.id,e.name,e.info,e.version),t.native.sendAction(NativeAction.currentUserChange,r))}window.addEventListener("pagehide",function t(){window.addEventListener("pageshow",e),window.removeEventListener("pagehide",t)})}(),{setCurrentUser:{get:function(){return i}},currentUserChange:{get:function(){return o}},currentUser:{get:function(){return r}},login:{get:function(){return a}}}})}).call(this,n(1))}]);