!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=Object.freeze({default:0,warning:1,error:2}),o=Object.freeze({url:"url",json:"json",object:"object",javascript:"javascript"});function i(e,t){return"number"!=typeof t||t===r.default?console.log("%c[Native]%c %s","color: #0b78d7; font-weight: bold;","color: #333333",e):t===r.warning?console.log("%c[Native]%c %s","color: #0b78d7; font-weight: bold;","color: #f98300",e):console.log("%c[Native]%c %s","color: #0b78d7; font-weight: bold;","color: #c2352d",e)}function c(e){switch(typeof e){case"undefined":return"";case"number":return isNaN(e)?"":String(e);case"string":return encodeURIComponent(e);case"object":return e?encodeURIComponent(JSON.stringify(e)):"";default:return encodeURIComponent(JSON.stringify(e))}}function u(e,t){for(let n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];switch(typeof r){case"string":if(t(n,r))return!0;break;case"object":if(!r)continue;if(u(r,t))return!0}}return!1}function s(e,t){return"string"!=typeof e||0===e.length?i("NativeMethod 注册失败，方法名称必须为长度大于 0 的字符串！",r.error):s.hasOwnProperty(e)?i("NativeMethod 注册失败，已存在名称为“"+e+"”的方法！",r.error):u(s,function(e,n){return n===t})?i("NativeMethod 注册失败，已存在值为“"+t+"”的方法！",r.error):(Object.defineProperty(s,e,{get:function(){return t},enumerable:!0}),t)}function f(e,t){return"string"!=typeof e||0===e.length?i("NativeAction 注册失败，事件名称必须为长度大于 0 的字符串！",r.error):f.hasOwnProperty(e)?i("NativeAction 注册失败，已存在名称为“"+e+"”的事件！",r.error):u(f,function(e,n){return n===t})?i("NativeAction 注册失败，已存在值为“"+t+"”的事件！",r.error):(Object.defineProperty(f,e,{get:function(){return t},enumerable:!0}),t)}new function(){let e=null;function t(t,n,r){if("string"!=typeof t)return null;if(1===arguments.length)return function(){if(e)return;e={};const t=document.cookie;if(!t)return;const n=t.split("; ");for(;n.length>0;){const t=n.pop();if(0===t.length)continue;const r=t.split("="),o=decodeURIComponent(r[0]);r.length>1?e[o]=decodeURIComponent(r[1]):e[name]=""}}(),e.hasOwnProperty(t)?e[t]:null;if(!n&&"object"==typeof n){const n=new Date;return n.setTime(n.getTime()-1),document.cookie=c(t)+"; expires="+n.toUTCString(),e&&e.hasOwnProperty(t)&&delete e[t],null}const o=new Date;return"number"==typeof r?o.setTime(o.getTime()+1e3*r):o.setTime(o.getTime()+2592e6),document.cookie=c(t)+"="+c(n)+"; expires="+o.toUTCString(),e&&(e[t]=n),n}function n(){return e=null,this}window.addEventListener("pageshow",function(){e=null}),Object.defineProperties(this,{value:{get:function(){return t}},synchronize:{get:function(){return n}}})};n.d(t,"mode",function(){return l}),n.d(t,"scheme",function(){return a}),n.d(t,"delegate",function(){return d}),n.d(t,"isReady",function(){return p}),n.d(t,"performMethod",function(){return w}),n.d(t,"callback",function(){return O}),n.d(t,"addActionTarget",function(){return j}),n.d(t,"removeActionTarget",function(){return P}),n.d(t,"sendAction",function(){return N}),n.d(t,"ready",function(){return S}),n.d(t,"extend",function(){return A}),f("ready","ready"),s("ready","ready");let l=o.url,a="native",d=null,p=!1,h={},y={},g=1e7,m={};const b=[],v=[];function w(){switch(l){case o.url:return function(e){const t=[];for(let e=1;e<arguments.length;e+=1){const n=arguments[e];"function"==typeof n?t.push(O(n)):t.push(n)}const n=a+"://"+e+"?parameters="+c(t);if("function"==typeof d)return d(n);const r=document.createElement("iframe");r.style.display="none",r.setAttribute("src",n),document.body.appendChild(r),setTimeout(function(){document.body.removeChild(r)},2e3)}.apply(this,arguments);case o.json:return function(e){const t=[e];for(let e=1;e<arguments.length;e+=1){const n=arguments[e];switch(typeof n){case"number":case"string":case"boolean":t.push(n);break;case"function":t.push(O(n));break;default:t.push(JSON.stringify(n))}}C.apply(this,t)}.apply(this,arguments);case o.object:return C.apply(this,arguments);case o.javascript:return function(e){const t=[];for(let e=1;e<arguments.length;e++)"function"==typeof arguments[e]?t.push(O(arguments[e])):t.push(arguments[e]);d.call(this,e,t)}.apply(this,arguments)}}function O(e,t,n){switch(typeof e){case"function":const o="NTCB"+g++;return h[o]=e,o;case"string":if(!h.hasOwnProperty(e))return void i("指定标识符对应的注册函数没有找到："+e,r.error);const c=h[e];if((void 0===t||t)&&delete h[e],void 0===n||n){const e=this;return function(){return c.apply(e,arguments)}}return c;default:return void i("native.callback() 方法第一个参数必须为回调函数或回调函数的唯一ID。")}}function j(e,t){if("function"!=typeof t||"string"!=typeof e||0==e.length)return this;if(!y.hasOwnProperty(e))return y[e]=t,this;const n=y[e];return Array.isArray(n)?n.push(t):y[e]=[n,t],this}function P(e,t){if("string"!=typeof e||0==e.length)return this;if(!y.hasOwnProperty(e))return this;if(!t)return delete y[e],this;const n=y[e];if(Array.isArray(n)){for(var r=n.length-1;r>=0;r--)n[r]===t&&n.splice(r,1);return this}return n===t&&delete y[e],this}function T(e,t){const n=[];for(;t<e.length;)n.push(e[t++]);return n}function N(e){if("string"!=typeof e||0==e.length)return null;if(!y.hasOwnProperty(e))return null;const t=T(arguments,1),n=y[e];if("function"==typeof n)return JSON.stringify(n.apply(this,t));const r=n.slice(0);for(var o=0;o<n.length;o++)r.splice(o,1,n[o].apply(this,t));return JSON.stringify(r)}function S(e){return e?1===arguments.length&&"function"==typeof e?p?(setTimeout(e),this):(v.push(e),this):3==arguments.length?(N.call(this,f.ready,e,arguments[1],arguments[2]),this):1===arguments.length&&"object"==typeof e&&l===o.url?(N.call(this,f.ready,null,o.url,e),this):(i("方法 native.ready 不支持当前调用："+e,r.error),this):this}function A(e){if("function"!=typeof e)return this;if(p){const t=e.call(this,m);return t&&"object"==typeof t&&Object.defineProperties(this,t),this}return b.push(e),this}function C(e){const t=e.split("/");let n=d;for(let e=0;e<t.length;e++){const r=t[e];n.hasOwnProperty(r)?n=n[r]:n=null}return n&&"function"==typeof n?n.apply(this,T(arguments,1)):i("执行原生方法发生错误：在代理对象（"+d+"）上没有找到待执行的方法（"+n+"）！",r.error)}j(f.ready,function e(t,n,c){if(p)i("重复初始化被忽略：native 已完成初始化，但是又收到初始化事件，请检查！");else if(u(o,function(e,t){return t===n})){for(p=!0,d=t,l=n,m=c;b.length>0;){const e=b.shift().call(this,m);e&&"object"==typeof e&&Object.defineProperties(this,e)}for(;v.length>0;)v.shift().call(this);P(f.ready,e)}else i("初始化错误：不支持 "+n+" 交互模式！",r.error)}),function(e){function t(){w.call(e,s.ready,p)}if("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)setTimeout(function(){t()});else{function n(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),t()}document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n)}}(void 0);t.default={mode:l,scheme:a,delegate:d,isReady:p,performMethod:w,callback:O,addActionTarget:j,removeActionTarget:P,sendAction:N,ready:S,extend:A}}]);